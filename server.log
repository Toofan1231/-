[dotenv@17.2.3] injecting env (11) from .env -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }

ğŸ”„ Testing database connection...
Database query error: Error: connect ECONNREFUSED 127.0.0.1:5432
    at /home/engine/project/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async query (/home/engine/project/config/database.js:30:17)
    at async Object.testConnection (/home/engine/project/config/database.js:64:20)
    at async startServer (/home/engine/project/server.js:138:25) {
  errno: -111,
  code: 'ECONNREFUSED',
  syscall: 'connect',
  address: '127.0.0.1',
  port: 5432
}
âŒ Database connection test failed: connect ECONNREFUSED 127.0.0.1:5432
âš ï¸  WARNING: Database connection failed!
ğŸ’¡ The server will start but database-dependent endpoints will not work.
ğŸ’¡ Make sure PostgreSQL is running and credentials in .env are correct.
ğŸ’¡ To setup the database, follow instructions in README.md


============================================================
ğŸš€ Paint & Varnish Shop Accounting System API
============================================================
ğŸ“¡ Server running on port: 5000
ğŸŒ Environment: development
ğŸ—„ï¸  Database: paint_shop_accounting (âŒ Not Connected)
ğŸ“ API URL: http://localhost:5000/api
ğŸ’š Health Check: http://localhost:5000/api/health
ğŸŒ Language Support: Dari (Ø¯Ø±ÛŒ), Pashto (Ù¾ÚšØªÙˆ), English
============================================================


ğŸ”µ GET /api/health
Database query error: Error: connect ECONNREFUSED 127.0.0.1:5432
    at /home/engine/project/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async query (/home/engine/project/config/database.js:30:17)
    at async Object.testConnection (/home/engine/project/config/database.js:64:20)
    at async /home/engine/project/server.js:49:23 {
  errno: -111,
  code: 'ECONNREFUSED',
  syscall: 'connect',
  address: '127.0.0.1',
  port: 5432
}
âŒ Database connection test failed: connect ECONNREFUSED 127.0.0.1:5432

ğŸ”µ GET /api/health
Database query error: Error: connect ECONNREFUSED 127.0.0.1:5432
    at /home/engine/project/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async query (/home/engine/project/config/database.js:30:17)
    at async Object.testConnection (/home/engine/project/config/database.js:64:20)
    at async /home/engine/project/server.js:49:23 {
  errno: -111,
  code: 'ECONNREFUSED',
  syscall: 'connect',
  address: '127.0.0.1',
  port: 5432
}
âŒ Database connection test failed: connect ECONNREFUSED 127.0.0.1:5432

ğŸ”µ GET /api/health
Database query error: Error: connect ECONNREFUSED 127.0.0.1:5432
    at /home/engine/project/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async query (/home/engine/project/config/database.js:30:17)
    at async Object.testConnection (/home/engine/project/config/database.js:64:20)
    at async /home/engine/project/server.js:49:23 {
  errno: -111,
  code: 'ECONNREFUSED',
  syscall: 'connect',
  address: '127.0.0.1',
  port: 5432
}
âŒ Database connection test failed: connect ECONNREFUSED 127.0.0.1:5432

ğŸ”µ GET /api/nonexistent
GET /api/nonexistent 404 1.479 ms - 973

ğŸ”µ GET /api/health
Database query error: Error: connect ECONNREFUSED 127.0.0.1:5432
    at /home/engine/project/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async query (/home/engine/project/config/database.js:30:17)
    at async Object.testConnection (/home/engine/project/config/database.js:64:20)
    at async /home/engine/project/server.js:49:23 {
  errno: -111,
  code: 'ECONNREFUSED',
  syscall: 'connect',
  address: '127.0.0.1',
  port: 5432
}
âŒ Database connection test failed: connect ECONNREFUSED 127.0.0.1:5432

âš ï¸  SIGTERM received. Starting graceful shutdown...
ğŸ”´ HTTP server closed
ğŸ”´ Database connection pool closed
âœ… Graceful shutdown completed
